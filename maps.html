<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBin | Map View</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root {
            --sidebar-bg: #020617; /* High contrast dark */
            --main-bg: #0f172a;    /* Deep navy */
            --accent-green: #10b981;
            --text-white: #ffffff;
            --text-dim: #94a3b8;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Roboto, sans-serif;
            display: flex;
            background: var(--main-bg);
            color: var(--text-white);
            height: 100vh;
            overflow: hidden;
        }

        /* --- SIDEBAR STYLE --- */
        .sidebar {
            width: 250px;
            background: var(--sidebar-bg);
            color: white;
            height: 100vh;
            padding: 30px 20px;
            box-shadow: 4px 0 10px rgba(0,0,0,0.3);
            border-right: 1px solid #1e293b;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        .sidebar h2 {
            color: var(--accent-green);
            font-size: 22px;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-align: center;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
            flex-grow: 1;
        }

        .sidebar li {
            padding: 12px 15px;
            margin: 8px 0;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            color: var(--text-dim);
            font-weight: 500;
        }

        .sidebar li:hover {
            background: rgba(16, 185, 129, 0.1);
            color: var(--accent-green);
        }

        .sidebar li.active {
            background: var(--accent-green);
            color: white;
        }

        .logout-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: background 0.2s;
        }

        .logout-btn:hover { background: #dc2626; }

        /* --- MAP AREA STYLE --- */
        .main {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        #map {
            flex: 1;
            height: 100vh;
            width: 100%;
            z-index: 1; /* Keep leaflet controls below sidebar if needed */
        }

        /* Customizing Leaflet Popups to match theme */
        .leaflet-popup-content-wrapper {
            background: #1e293b;
            color: white;
            border-radius: 8px;
            border: 1px solid #334155;
        }
        .leaflet-popup-tip { background: #1e293b; }
        
        .popup-info {
            padding: 5px;
            font-family: 'Segoe UI', sans-serif;
        }
        .popup-info b { color: var(--accent-green); }
        .level-high { color: #ef4444; font-weight: bold; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <h2><i class="fas fa-microchip"></i> SMARTBIN AI</h2>
        <ul>
            <li onclick="location.href='dashboard.html'"><i class="fas fa-house"></i> Dashboard</li>
            <li onclick="location.href='BinsCollection.html'"><i class="fas fa-dumpster"></i> Bins</li>
            <li onclick="location.href='Logs.html'"><i class="fas fa-list-ul"></i> Logs</li>
            <li class="active" onclick="location.href='maps.html'"><i class="fas fa-map-location-dot"></i> Map View</li>
        </ul>
        <button class="logout-btn" id="logoutBtn">Logout</button>
    </aside>

    <main class="main">
        <div id="map"></div>
    </main>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script type="module" src="maps.js"></script>

</body>
</html>
